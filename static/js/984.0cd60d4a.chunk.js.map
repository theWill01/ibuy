{"version":3,"file":"static/js/984.0cd60d4a.chunk.js","mappings":"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","sources":["components/FormErr.js","services/UploadService.js"],"sourcesContent":["import React from \"react\";\n\nexport const FormErr = (errors) => {\n  return (\n    <div>\n      {Object.keys(errors).map((name, idx) => {\n        if (errors[name].length > 0) {\n          return (\n            <p key={idx}>\n              {name} {errors[name]}\n            </p>\n          );\n        } else {\n          return \"\";\n        }\n      })}\n    </div>\n  );\n};\n","import React, { useState, useRef, useCallback, useMemo } from \"react\";\nimport \"../styles/UploadService.scss\";\nimport { FormErr } from \"../components/FormErr\";\nimport { useDispatch } from \"react-redux\";\nimport { addProducts } from \"../features/posts/PostsSlice\";\nimport { data } from \"../assets/helpers/Data\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction About(props) {\n  return !props.state ? (\n    \"\"\n  ) : (\n    <p>\n      : {props.symbol} {props.state} {props.texts}\n    </p>\n  );\n}\n\nexport default function UploadService() {\n  const dispatch = useDispatch();\n  const [requestStatus, setRequestStatus] = useState(\"idle\");\n  const [product, setProduct] = useState(data.initialDetails);\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const [files, setFiles] = useState([]);\n\n  const stars = [...Array(5)].map((star, index) => {\n    const ratingValue = index + 1;\n    return (\n      <label className=\"border border-black\" key={index}>\n        <input\n          type={\"radio\"}\n          style={{ display: \"none\" }}\n          onClick={(c) => setRating(ratingValue)}\n          value={ratingValue}\n          name={\"rating\"}\n        />\n        <FontAwesomeIcon\n          icon={faStar}\n          className={\"cursor-pointer\"}\n          color={ratingValue <= (hover || rating) ? \"yellow\" : \"gray\"}\n          onMouseEnter={(c) => setHover(ratingValue)}\n          onMouseLeave={(c) => setHover(0)}\n        />\n      </label>\n    );\n  });\n\n  const handleFile = (e) => {\n    if (!e.target.files && !e.target.files[0]) return;\n\n    const reader = new FileReader();\n    reader.onloadend = (e) => {\n      setFiles([...files, { image: e.target.result }]);\n\n      console.log(files);\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n\n    console.log(files.length);\n  };\n\n  const handleText = (e) => {\n    return setProduct({ ...product, [e.target.name]: e.target.value });\n  };\n\n  const canSave = [product].every(Boolean) && requestStatus === \"idle\";\n\n  const submit = async () => {\n    const fileArr = JSON.stringify(files);\n    const formData = new FormData();\n\n    formData.append(\"images\", fileArr);\n    formData.append(\"brand\", product.brand.toLowerCase());\n    formData.append(\"title\", product.title.toLowerCase());\n    formData.append(\"stars\", rating);\n    formData.append(\"color\", product.color.toLowerCase());\n    formData.append(\"software\", product.software.toLowerCase());\n    formData.append(\"year\", product.year);\n    formData.append(\"rom\", product.rom);\n    formData.append(\"ram\", product.ram);\n    formData.append(\"condition\", product.condition.toLowerCase());\n    formData.append(\"price\", product.price);\n    formData.append(\"quantity\", product.quantity);\n\n    if (!canSave) return <>Failed</>;\n\n    try {\n      let result = data.initialDetails\n      dispatch(addProducts(formData)).unwrap();\n\n      setProduct({\n        ...product,\n        result,\n      });\n      setRating(0);\n      setHover(0);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setRequestStatus(\"idle\");\n    }\n  };\n\n  return (\n    <section className=\"w-full h-full border-black flex justify-between overflow-hidden \">\n      <article className=\"file-preview border border-red-600 w-2/4 h-full  hidden\">\n        <div className=\"product\">\n          <About state={product.brand} />\n          <About state={product.title} />\n          <About state={product.color} />\n          <About state={product.software} />\n          <About state={product.year} />\n          <About state={product.rom} texts={\"gb\"} />\n          <About state={product.ram} texts={\"gb\"} />\n          <About state={product.condition} />\n          <About symbol={\"$\"} state={product.price} />\n          <About state={product.quantity} texts={\"pcs\"} />\n        </div>\n      </article>\n      {/*IMAGE PREVIEW CONTAINER  */}\n\n      <div\n        className={\"border border-black flex w-[30%] h-full overflow-hidden\"}\n      >\n        {files.map((item, idx) => {\n          return (\n            <figure className={\"w-[100px] h-[100px]\"} key={idx}>\n              <img\n                className={\"object-contain w-[100px] h-[100px]\"}\n                src={item.image}\n                alt={item.title}\n              />\n            </figure>\n          );\n        })}\n      </div>\n\n      <article\n        className=\"form-box border\n      border-black w-3/5\"\n      >\n        <form\n          onSubmit={submit}\n          encType={\"multipart/form-data\"}\n          className={\"post-form w-100 h-full \"}\n        >\n          <label>Select image file for upload</label>\n          <br />\n          <input\n            type={\"file\"}\n            accept=\"image/*\"\n            onChange={handleFile}\n            value={product.images}\n            multiple\n          />\n          <br />\n          <label>enter phone manufacturer i.e samsung, iphone.....</label>\n          <br />\n          <input\n            placeholder=\"brand\"\n            type={\"text\"}\n            onChange={handleText}\n            name={\"brand\"}\n            value={product.brand}\n          />\n          <FormErr />\n\n          <input\n            placeholder=\"phone name\"\n            type={\"text\"}\n            onChange={handleText}\n            name={\"title\"}\n            value={product.title}\n          />\n          <label>{stars}</label>\n\n          <input\n            placeholder={\"color\"}\n            type={\"text\"}\n            onChange={handleText}\n            name={\"color\"}\n            value={product.color}\n          />\n          <br />\n\n          <label>software</label>\n          <br />\n\n          <select\n            name=\"software\"\n            onChange={handleText}\n            value={product.software}\n          >\n            <option value={\"\"}></option>\n            <option>android</option>\n            <option>ios</option>\n          </select>\n\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"year\"}\n            value={product.year}\n            placeholder={\"item manufacture date\"}\n          />\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"rom\"}\n            value={product.rom}\n            placeholder={\"internal storage\"}\n          />\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"ram\"}\n            value={product.ram}\n            placeholder={\"ram memory\"}\n          />\n          <input\n            type={\"text\"}\n            onChange={handleText}\n            name={\"condition\"}\n            value={product.condition}\n            placeholder={\"is item refurbished or brand new\"}\n          />\n\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"price\"}\n            value={product.price}\n            placeholder={\"how much item cost\"}\n          />\n\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"quantity\"}\n            value={product.quantity}\n            placeholder={\"how many items\"}\n          />\n          <br />\n          <button\n            className={\"post-btn border border-black w-2/4\"}\n            type=\"submit\"\n            disabled={!canSave}\n          >\n            post\n          </button>\n        </form>\n      </article>\n    </section>\n  );\n}\n"],"names":["FormErr","errors","Object","keys","map","name","idx","length","About","props","state","symbol","texts","UploadService","dispatch","useDispatch","useState","requestStatus","setRequestStatus","data","product","setProduct","rating","setRating","hover","setHover","files","setFiles","stars","Array","star","index","ratingValue","className","type","style","display","onClick","c","value","icon","faStar","color","onMouseEnter","onMouseLeave","handleText","e","target","canSave","every","Boolean","submit","fileArr","JSON","stringify","formData","FormData","append","brand","toLowerCase","title","software","year","rom","ram","condition","price","quantity","result","addProducts","unwrap","err","console","log","item","src","image","alt","onSubmit","encType","accept","onChange","reader","FileReader","onloadend","readAsDataURL","images","multiple","placeholder","disabled"],"sourceRoot":""}