{"version":3,"file":"static/js/984.e14bdba6.chunk.js","mappings":"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","sources":["components/FormErr.js","services/UploadService.js"],"sourcesContent":["import React from \"react\";\n\nexport const FormErr = (errors) => {\n  return (\n    <div>\n      {Object.keys(errors).map((name, idx) => {\n        if (errors[name].length > 0) {\n          return (\n            <p key={idx}>\n              {name} {errors[name]}\n            </p>\n          );\n        } else {\n          return \"\";\n        }\n      })}\n    </div>\n  );\n};\n","import React, { useState, useRef, useCallback, useMemo } from \"react\";\nimport \"../styles/UploadService.scss\";\nimport { FormErr } from \"../components/FormErr\";\nimport { useDispatch } from \"react-redux\";\nimport { addProducts } from \"../features/posts/PostsSlice\";\nimport { initialDetails } from \"../assets/helpers/Data\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction About(props) {\n  return !props.state ? (\n    \"\"\n  ) : (\n    <p>\n      : {props.symbol} {props.state} {props.texts}\n    </p>\n  );\n}\n\nexport default function UploadService() {\n  const dispatch = useDispatch();\n  const [requestStatus, setRequestStatus] = useState(\"idle\");\n  const [product, setProduct] = useState(initialDetails);\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const [files, setFiles] = useState([]);\n\n  const stars = [...Array(5)].map((star, index) => {\n    const ratingValue = index + 1;\n    return (\n      <label className=\"border border-black\" key={index}>\n        <input\n          type={\"radio\"}\n          style={{ display: \"none\" }}\n          onClick={(c) => setRating(ratingValue)}\n          value={ratingValue}\n          name={\"rating\"}\n        />\n        <FontAwesomeIcon\n          icon={faStar}\n          className={\"cursor-pointer\"}\n          color={ratingValue <= (hover || rating) ? \"yellow\" : \"gray\"}\n          onMouseEnter={(c) => setHover(ratingValue)}\n          onMouseLeave={(c) => setHover(0)}\n        />\n      </label>\n    );\n  });\n\n  const handleFile = (e) => {\n    if (!e.target.files && !e.target.files[0]) return;\n\n    const reader = new FileReader();\n    reader.onloadend = (e) => {\n      setFiles([...files, { image: e.target.result }]);\n\n      console.log(files);\n    };\n\n    reader.readAsDataURL(e.target.files[0]);\n\n    console.log(files.length);\n  };\n\n  const handleText = (e) => {\n    return setProduct({ ...product, [e.target.name]: e.target.value });\n  };\n\n  const canSave = [product].every(Boolean) && requestStatus === \"idle\";\n\n  const submit = async () => {\n    const fileArr = JSON.stringify(files);\n    const formData = new FormData();\n\n    formData.append(\"images\", fileArr);\n    formData.append(\"brand\", product.brand.toLowerCase());\n    formData.append(\"title\", product.title.toLowerCase());\n    formData.append(\"stars\", rating);\n    formData.append(\"color\", product.color.toLowerCase());\n    formData.append(\"software\", product.software.toLowerCase());\n    formData.append(\"year\", product.year);\n    formData.append(\"rom\", product.rom);\n    formData.append(\"ram\", product.ram);\n    formData.append(\"condition\", product.condition.toLowerCase());\n    formData.append(\"price\", product.price);\n    formData.append(\"quantity\", product.quantity);\n\n    if (!canSave) return <>Failed</>;\n\n    try {\n      let result = initialDetails;\n      dispatch(addProducts(formData)).unwrap();\n\n      setProduct({\n        ...product,\n        result,\n      });\n      setRating(0);\n      setHover(0);\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setRequestStatus(\"idle\");\n    }\n  };\n\n  return (\n    <section className=\"w-full h-full border-black flex justify-between overflow-hidden \">\n      <article className=\"file-preview border border-red-600 w-2/4 h-full  hidden\">\n        <div className=\"product\">\n          <About state={product.brand} />\n          <About state={product.title} />\n          <About state={product.color} />\n          <About state={product.software} />\n          <About state={product.year} />\n          <About state={product.rom} texts={\"gb\"} />\n          <About state={product.ram} texts={\"gb\"} />\n          <About state={product.condition} />\n          <About symbol={\"$\"} state={product.price} />\n          <About state={product.quantity} texts={\"pcs\"} />\n        </div>\n      </article>\n      {/*IMAGE PREVIEW CONTAINER  */}\n\n      <div\n        className={\"border border-black flex w-[30%] h-full overflow-hidden\"}\n      >\n        {files.map((item, idx) => {\n          return (\n            <figure className={\"w-[100px] h-[100px]\"} key={idx}>\n              <img\n                className={\"object-contain w-[100px] h-[100px]\"}\n                src={item.image}\n                alt={item.title}\n              />\n            </figure>\n          );\n        })}\n      </div>\n\n      <article\n        className=\"form-box border\n      border-black w-3/5\"\n      >\n        <form\n          onSubmit={submit}\n          encType={\"multipart/form-data\"}\n          className={\"post-form w-100 h-full \"}\n        >\n          <label>Select image file for upload</label>\n          <br />\n          <input\n            type={\"file\"}\n            accept=\"image/*\"\n            onChange={handleFile}\n            value={product.images}\n            multiple\n          />\n          <br />\n          <label>enter phone manufacturer i.e samsung, iphone.....</label>\n          <br />\n          <input\n            placeholder=\"brand\"\n            type={\"text\"}\n            onChange={handleText}\n            name={\"brand\"}\n            value={product.brand}\n          />\n          <FormErr />\n\n          <input\n            placeholder=\"phone name\"\n            type={\"text\"}\n            onChange={handleText}\n            name={\"title\"}\n            value={product.title}\n          />\n          <label>{stars}</label>\n\n          <input\n            placeholder={\"color\"}\n            type={\"text\"}\n            onChange={handleText}\n            name={\"color\"}\n            value={product.color}\n          />\n          <br />\n\n          <label>software</label>\n          <br />\n\n          <select\n            name=\"software\"\n            onChange={handleText}\n            value={product.software}\n          >\n            <option value={\"\"}></option>\n            <option>android</option>\n            <option>ios</option>\n          </select>\n\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"year\"}\n            value={product.year}\n            placeholder={\"item manufacture date\"}\n          />\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"rom\"}\n            value={product.rom}\n            placeholder={\"internal storage\"}\n          />\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"ram\"}\n            value={product.ram}\n            placeholder={\"ram memory\"}\n          />\n          <input\n            type={\"text\"}\n            onChange={handleText}\n            name={\"condition\"}\n            value={product.condition}\n            placeholder={\"is item refurbished or brand new\"}\n          />\n\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"price\"}\n            value={product.price}\n            placeholder={\"how much item cost\"}\n          />\n\n          <input\n            type={\"number\"}\n            onChange={handleText}\n            name={\"quantity\"}\n            value={product.quantity}\n            placeholder={\"how many items\"}\n          />\n          <br />\n          <button\n            className={\"post-btn border border-black w-2/4\"}\n            type=\"submit\"\n            disabled={!canSave}\n          >\n            post\n          </button>\n        </form>\n      </article>\n    </section>\n  );\n}\n"],"names":["FormErr","errors","Object","keys","map","name","idx","length","About","props","state","symbol","texts","UploadService","dispatch","useDispatch","requestStatus","setRequestStatus","useState","product","setProduct","initialDetails","rating","setRating","hover","setHover","files","setFiles","stars","Array","star","index","ratingValue","className","type","style","display","onClick","c","value","icon","faStar","color","onMouseEnter","onMouseLeave","handleText","e","target","canSave","every","Boolean","brand","title","software","year","rom","ram","condition","price","quantity","item","src","image","alt","onSubmit","async","fileArr","JSON","stringify","formData","FormData","append","toLowerCase","result","addProducts","unwrap","err","console","log","encType","accept","onChange","reader","FileReader","onloadend","readAsDataURL","images","multiple","placeholder","disabled"],"sourceRoot":""}