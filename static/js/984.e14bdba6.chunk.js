"use strict";(self.webpackChunkibuy=self.webpackChunkibuy||[]).push([[984],{3984:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var r=t(2791),n=t(184);const s=e=>(0,n.jsx)("div",{children:Object.keys(e).map(((a,t)=>e[a].length>0?(0,n.jsxs)("p",{children:[a," ",e[a]]},t):""))});var l=t(9434),o=t(5986),i=t(2359),c=t(9806),d=t(1632);function p(e){return e.state?(0,n.jsxs)("p",{children:[": ",e.symbol," ",e.state," ",e.texts]}):""}function u(){const e=(0,l.I0)(),[a,t]=(0,r.useState)("idle"),[u,m]=(0,r.useState)(i.H),[x,h]=(0,r.useState)(0),[b,j]=(0,r.useState)(0),[y,f]=(0,r.useState)([]),g=[...Array(5)].map(((e,a)=>{const t=a+1;return(0,n.jsxs)("label",{className:"border border-black",children:[(0,n.jsx)("input",{type:"radio",style:{display:"none"},onClick:e=>h(t),value:t,name:"rating"}),(0,n.jsx)(c.G,{icon:d.Tab,className:"cursor-pointer",color:t<=(b||x)?"yellow":"gray",onMouseEnter:e=>j(t),onMouseLeave:e=>j(0)})]},a)})),w=e=>m({...u,[e.target.name]:e.target.value}),v=[u].every(Boolean)&&"idle"===a;return(0,n.jsxs)("section",{className:"w-full h-full border-black flex justify-between overflow-hidden ",children:[(0,n.jsx)("article",{className:"file-preview border border-red-600 w-2/4 h-full  hidden",children:(0,n.jsxs)("div",{className:"product",children:[(0,n.jsx)(p,{state:u.brand}),(0,n.jsx)(p,{state:u.title}),(0,n.jsx)(p,{state:u.color}),(0,n.jsx)(p,{state:u.software}),(0,n.jsx)(p,{state:u.year}),(0,n.jsx)(p,{state:u.rom,texts:"gb"}),(0,n.jsx)(p,{state:u.ram,texts:"gb"}),(0,n.jsx)(p,{state:u.condition}),(0,n.jsx)(p,{symbol:"$",state:u.price}),(0,n.jsx)(p,{state:u.quantity,texts:"pcs"})]})}),(0,n.jsx)("div",{className:"border border-black flex w-[30%] h-full overflow-hidden",children:y.map(((e,a)=>(0,n.jsx)("figure",{className:"w-[100px] h-[100px]",children:(0,n.jsx)("img",{className:"object-contain w-[100px] h-[100px]",src:e.image,alt:e.title})},a)))}),(0,n.jsx)("article",{className:"form-box border border-black w-3/5",children:(0,n.jsxs)("form",{onSubmit:async()=>{const a=JSON.stringify(y),r=new FormData;if(r.append("images",a),r.append("brand",u.brand.toLowerCase()),r.append("title",u.title.toLowerCase()),r.append("stars",x),r.append("color",u.color.toLowerCase()),r.append("software",u.software.toLowerCase()),r.append("year",u.year),r.append("rom",u.rom),r.append("ram",u.ram),r.append("condition",u.condition.toLowerCase()),r.append("price",u.price),r.append("quantity",u.quantity),!v)return(0,n.jsx)(n.Fragment,{children:"Failed"});try{let a=i.H;e((0,o.yK)(r)).unwrap(),m({...u,result:a}),h(0),j(0)}catch(s){console.log(s)}finally{t("idle")}},encType:"multipart/form-data",className:"post-form w-100 h-full ",children:[(0,n.jsx)("label",{children:"Select image file for upload"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(!e.target.files&&!e.target.files[0])return;const a=new FileReader;a.onloadend=e=>{f([...y,{image:e.target.result}]),console.log(y)},a.readAsDataURL(e.target.files[0]),console.log(y.length)},value:u.images,multiple:!0}),(0,n.jsx)("br",{}),(0,n.jsx)("label",{children:"enter phone manufacturer i.e samsung, iphone....."}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{placeholder:"brand",type:"text",onChange:w,name:"brand",value:u.brand}),(0,n.jsx)(s,{}),(0,n.jsx)("input",{placeholder:"phone name",type:"text",onChange:w,name:"title",value:u.title}),(0,n.jsx)("label",{children:g}),(0,n.jsx)("input",{placeholder:"color",type:"text",onChange:w,name:"color",value:u.color}),(0,n.jsx)("br",{}),(0,n.jsx)("label",{children:"software"}),(0,n.jsx)("br",{}),(0,n.jsxs)("select",{name:"software",onChange:w,value:u.software,children:[(0,n.jsx)("option",{value:""}),(0,n.jsx)("option",{children:"android"}),(0,n.jsx)("option",{children:"ios"})]}),(0,n.jsx)("input",{type:"number",onChange:w,name:"year",value:u.year,placeholder:"item manufacture date"}),(0,n.jsx)("input",{type:"number",onChange:w,name:"rom",value:u.rom,placeholder:"internal storage"}),(0,n.jsx)("input",{type:"number",onChange:w,name:"ram",value:u.ram,placeholder:"ram memory"}),(0,n.jsx)("input",{type:"text",onChange:w,name:"condition",value:u.condition,placeholder:"is item refurbished or brand new"}),(0,n.jsx)("input",{type:"number",onChange:w,name:"price",value:u.price,placeholder:"how much item cost"}),(0,n.jsx)("input",{type:"number",onChange:w,name:"quantity",value:u.quantity,placeholder:"how many items"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{className:"post-btn border border-black w-2/4",type:"submit",disabled:!v,children:"post"})]})})]})}}}]);
//# sourceMappingURL=984.e14bdba6.chunk.js.map